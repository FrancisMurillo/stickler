<!DOCTYPE html>
<html>
<head>
<title>Stickler</title>
<link href='css/jquery-ui-1.10.4.custom.min.css' rel='stylesheet' />
<link href='css/stickler.css' rel='stylesheet' />

<script src='js/jquery-2.1.1.min.js'></script>
<script src='js/jquery-ui-1.10.4.custom.min.js'></script>

<script src='js/jquery.topzindex.min.js'></script>
<script src='js/jquery.autosize.min.js'></script>

<script src='js/note.js'></script>

<!--  Custom Functions -->
<script>
	function uniqId() {
	  	return Math.round(new Date().getTime() + (Math.random() * 100));
	}
	/* Returns a number to a string with px on it. Eg toPx(300) = 300px */
	function toPx(unit) {
		return unit + 'px';
	}

</script>

<!-- Main Logic -->
<script type='text/javascript'>
		$(document).ready(function() {
			$('#add_note').on('click.add' , function() {
				createNewNote(150 , 150 , $('#note_area') ,'task-note');
			});
			
			$('#sticky').draggable();
			$('#sticky').resizable({
				handle : 'n,s,e,w,ne,se,sw,nw'
			});
			$('#sticky').css({
					'width' 	: 	toPx(150) 	, 
					'height'	: 	toPx(150)	,
					
					'zIndex'	:	$.topZIndex('.task-note') + 1	
				});
			$('textarea').autosize({
				append: '' ,
				callback: function() {
					var $myNote = $(this).parents('.task-note');
					console.log($myNote);
					
					var $myHeader = $($myNote.children().get(0));
					var $mySection = $($myNote.children().get(1));
					var $myFooter = $($myNote.children().get(2));

					$myNote.css({
						'height' : $myHeader.height() + $mySection.height() + $myFooter.height()
					});
				}
			});		
		
		});
	</script>
</head>
<body>
	<div id='wrapper'>
		<div id='action-area'>
			<section id='action-area-types'>
				<a id='all-filter' class='task-filter-leftmost' href='#'>All</a> <a
					id='task-filter' href='#'>Tasks</a> <a id='issue-filter'
					class='task-filter-rightmost' href='#'>Issues</a>
			</section>

			<a id='add_note' href='#'>Roar</a>
		</div>
		<div id='note_area'>
			<div id='sticky' class='task-note'>
				<header class='task-note-header'>
					<span>Task Action</span>

				</header>
				<section>
					<textarea class='task-note-title' placeholder='<Your Note Title>'></textarea>
					<textarea class='task-note-result' placeholder='<Your Task Result>'></textarea>
					<span>Goal</span>
				</section>
				<footer>
					<header>SubTask Action</header>
					<section>
						<span>My Tasks</span>
					</section>
				</footer>
			</div>
		</div>
	</div>
</body>
</html>